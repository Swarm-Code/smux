#!/bin/bash
# Demo: Enhanced Choose-Tree Visual Hierarchy

echo "ğŸ¯ Enhanced Session/Project/Window Selector Demo"
echo "==============================================="
echo ""
echo "This demo showcases the visual improvements to smux's session selector"
echo "with enhanced differentiation between projects, sessions, and windows."
echo ""

echo "ğŸ¨ Visual Hierarchy Features Applied:"
echo "======================================"
echo ""
echo "ğŸ“‚ Projects (Top Level)"
echo "  â€¢ Color: Bold accent (#95E6CB)"
echo "  â€¢ Icon: ğŸ“‚ folder symbol"
echo "  â€¢ Format: 'Project Name - X sessions (created time)'"
echo "  â€¢ Purpose: Clear project identification"
echo ""
echo "ğŸ–¥ï¸ Sessions (Under Projects or Standalone)"
echo "  â€¢ Color: Standard text (#BFBDB6) with tree connectors"
echo "  â€¢ Icon: ğŸ–¥ï¸ computer symbol with â”œâ”€ tree connector"
echo "  â€¢ Format: 'Session Name - X windows [â— ACTIVE if attached]'"
echo "  â€¢ Purpose: Show session hierarchy and activity status"
echo ""
echo "ğŸªŸ Windows (Under Sessions)"
echo "  â€¢ Color: Subdued (#565B66) with deeper indentation"
echo "  â€¢ Icon: ğŸªŸ window symbol with â””â”€ tree connector"
echo "  â€¢ Format: 'Window Name [â— if active window]'"
echo "  â€¢ Purpose: Show window structure within sessions"
echo ""

echo "ğŸŒŸ Before vs After Comparison:"
echo "============================="
echo ""
echo "BEFORE (Standard tmux):"
echo "  session1: 2 windows (attached)"
echo "  session2: 1 windows"
echo "  project1: 3 sessions"
echo ""
echo "AFTER (Enhanced smux):"
echo "  ğŸ“‚ project1 - 3 sessions (Wed Oct 15 14:06:52 2025)"
echo "    â”œâ”€ ğŸ–¥ï¸ frontend - 2 windows â— ACTIVE"
echo "      â””â”€ ğŸªŸ main â—"
echo "      â””â”€ ğŸªŸ tests"
echo "    â”œâ”€ ğŸ–¥ï¸ backend - 1 windows"
echo "      â””â”€ ğŸªŸ server"
echo "  ğŸ–¥ï¸ standalone-session - 1 windows"
echo "    â””â”€ ğŸªŸ bash"
echo ""

echo "âš¡ Interactive Testing:"
echo "====================="
echo ""
echo "1. Open the Enhanced Session Selector:"
echo "   â€¢ Run: smux attach-session -t backend"
echo "   â€¢ Press: Ctrl+B then 's'"
echo "   â€¢ Navigate with arrow keys"
echo "   â€¢ Press Enter to select, 'q' to cancel"
echo ""
echo "2. Open the Enhanced Window Selector:"
echo "   â€¢ While in a session, press: Ctrl+B then 'w'"
echo "   â€¢ See windows organized under their sessions"
echo "   â€¢ Notice active window highlighting"
echo ""

echo "ğŸ¯ Key Visual Improvements:"
echo "=========================="
echo ""
echo "âœ… Hierarchical Structure:"
echo "   â€¢ Clear parent-child relationships"
echo "   â€¢ Tree-style connectors (â”œâ”€ â””â”€)"
echo "   â€¢ Proper indentation levels"
echo ""
echo "âœ… Visual Differentiation:"
echo "   â€¢ Projects: Bold accent color with ğŸ“‚"
echo "   â€¢ Sessions: Standard color with ğŸ–¥ï¸"
echo "   â€¢ Windows: Subdued color with ğŸªŸ"
echo ""
echo "âœ… Status Indicators:"
echo "   â€¢ Active sessions: â— ACTIVE indicator"
echo "   â€¢ Current windows: â— highlight"
echo "   â€¢ Consistent accent color (#95E6CB)"
echo ""
echo "âœ… Dark Theme Integration:"
echo "   â€¢ Matches status bar color scheme"
echo "   â€¢ Consistent with selector background"
echo "   â€¢ Cohesive visual experience"
echo ""

echo "ğŸš€ Technical Implementation:"
echo "=========================="
echo ""
echo "The enhanced formatting is built directly into smux's choose-tree"
echo "command templates with:"
echo ""
echo "â€¢ Custom format strings with tmux color codes"
echo "â€¢ Unicode icons and tree connectors"
echo "â€¢ Conditional formatting for active states"
echo "â€¢ Hierarchical indentation structure"
echo ""
echo "All themes automatically include these enhancements!"
echo ""

echo "ğŸ’¡ Usage Tips:"
echo "============="
echo ""
echo "â€¢ Use 'Ctrl+B s' frequently for quick session navigation"
echo "â€¢ Look for the â— indicators to find active elements"
echo "â€¢ Projects appear at the top level for easy identification"
echo "â€¢ Tree structure shows clear relationships"
echo "â€¢ Colors match your selected status bar theme"
echo ""

echo "ğŸ¨ Color Scheme Reference:"
echo "========================="
echo ""
echo "â€¢ Accent Color (#95E6CB): Projects, active indicators"
echo "â€¢ Primary Text (#BFBDB6): Session names, main content"
echo "â€¢ Secondary Text (#565B66): Window names, metadata"
echo "â€¢ Connector Color (#475266): Tree structure lines"
echo "â€¢ Background (#0B0E14): Consistent with status bar"
echo ""

echo "âœ¨ This enhancement provides a much clearer understanding"
echo "   of your session structure at a glance!"